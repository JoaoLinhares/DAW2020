extends layout

block content
    .w3-card-4
      header.w3-container.w3-teal
        h3.w3-center Students List (DAW2020)
      if list.length > 0
        .w3-container
          table.w3-table-all
            tr 
              th.w3-center Number
              th.w3-center Name
              th.w3-center Git
              th.w3-center TPC1
              th.w3-center TPC2
              th.w3-center TPC3
              th.w3-center TPC4
              th.w3-center TPC5
              th.w3-center TPC6
              th.w3-center TPC7
              th.w3-center TPC8
              th.w3-center Total Done
              th.w3-center Edit
              th.w3-center Delete
            each s in list
              tr
                td.w3-center
                    a(href='/alunos/' + s.numero) #{s.numero}
                td.w3-center= s.nome
                td.w3-center
                    a(href=s.git) #{s.git}
                - var total = 0
                - var size = s.tpc.length
                - var n = 0
                while n < size
                    if s.tpc[n++] == 1
                        td.w3-center(style="color:green") Done
                        -- total++
                    else
                        td.w3-center(style="color:red") Not Done
                while n < 8
                    td.w3-center(style="color:red") Not Done
                    - n++
                td.w3-center #{total}
                td.w3-center
                    - var ref = "window.location.href='/alunos/editar/" + s.numero + "'"
                    button(onclick=ref style="text-align:center;") Edit
                td.w3-center
                  div(style="display: inline-block")
                    - var path = "/alunos/" + s.numero + "?_method=DELETE"
                    form(action=path method="POST")
                      button(type="submit" value="Submit") Delete
      else
        .w3-container
          p There are no students...
      div(style="text-align:center; margin:1%")
        button(onclick="window.location.href='/alunos/registar'" style="text-align:center;") Add
      footer.w3-container.w3-teal
        address Generated By StudentsApp :: 2020-Nov, joaoLinhares